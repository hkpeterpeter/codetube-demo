/**
 * easytimer.js
 * Generated: 2018-02-18
 * Version: 2.1.0
 */

!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Timer=t()}(this,function(){"use strict";function n(n,t,e){var o=void 0,i="";if(n.length>t)return n;for(o=0;o<t;o+=1)i+=String(e);return(i+n).slice(-i.length)}function t(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.toString=function(t,e,o){t=t||["hours","minutes","seconds"],e=e||":",o=o||2;var i=[],r=void 0;for(r=0;r<t.length;r+=1)void 0!==this[t[r]]&&("secondTenths"===t[r]?i.push(this[t[r]]):i.push(n(this[t[r]],o,"0")));return i.join(e)}}function e(){return"undefined"!=typeof document}function o(){return S}function i(n,t){return(n%t+t)%t}var r="undefined"!=typeof window?window.CustomEvent:void 0;"undefined"!=typeof window&&"function"!=typeof r&&((r=function(n,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),e}).prototype=window.Event.prototype,window.CustomEvent=r);var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},u=10,d=60,c=60,f=24,a=0,v=1,h=2,l=3,p=4,m="secondTenths",y="seconds",b="minutes",w="hours",g="days",E={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},T={secondTenths:u,seconds:d,minutes:c,hours:f},S="undefined"!=typeof module&&module.exports&&"function"==typeof require?require("events"):void 0;return function(){function n(n,t){Z[n]=t,Y[n]=n===g?t:t>=0?i(t,T[n]):T[n]-i(t,T[n])}function r(n){return V(n,g)}function j(n){return V(n,w)}function C(n){return V(n,b)}function L(n){return V(n,y)}function U(n){return V(n,m)}function V(t,e){var o=Z[e];return n(e,G(t,E[e])),Z[e]!==o}function A(){D(),R()}function D(){clearInterval($),$=void 0,nn=!1,tn=!1}function k(n){X()?(an=M(),dn=H(un.target)):B(n),x()}function x(){var n=E[en];z(I(Date.now()))||($=setInterval(P,n),nn=!0,tn=!1)}function M(){return I(Date.now())-Z.secondTenths*E[m]*on}function P(){var n=I(Date.now());O(q()),rn(hn.detail.timer),z(n)&&(N(),Q("targetAchieved",hn))}function q(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I(Date.now()),t=on>0?n-an:an-n,e={};return e[m]=U(t),e[y]=L(t),e[b]=C(t),e[w]=j(t),e[g]=r(t),e}function I(n){return Math.floor(n/E[en])*E[en]}function O(n){n[m]&&Q("secondTenthsUpdated",hn),n[y]&&Q("secondsUpdated",hn),n[b]&&Q("minutesUpdated",hn),n[w]&&Q("hoursUpdated",hn),n[g]&&Q("daysUpdated",hn)}function z(n){return dn instanceof Array&&n>=vn}function R(){for(var n in Y)Y.hasOwnProperty(n)&&"number"==typeof Y[n]&&(Y[n]=0);for(var t in Z)Z.hasOwnProperty(t)&&"number"==typeof Z[t]&&(Z[t]=0)}function B(n){en="string"==typeof(n=n||{}).precision?n.precision:y,rn="function"==typeof n.callback?n.callback:function(){},fn=!0===n.countdown,on=!0===fn?-1:1,"object"===s(n.startValues)&&J(n.startValues),an=M(),q(),"object"===s(n.target)?dn=H(n.target):fn&&(n.target={seconds:0},dn=H(n.target)),sn={precision:en,callback:rn,countdown:"object"===(void 0===n?"undefined":s(n))&&!0===n.countdown,target:dn,startValues:cn},un=n}function F(n){var t=void 0,e=void 0,o=void 0,i=void 0,r=void 0,m=void 0;if("object"===(void 0===n?"undefined":s(n)))if(n instanceof Array){if(5!==n.length)throw new Error("Array size not valid");m=n}else m=[n.secondTenths||0,n.seconds||0,n.minutes||0,n.hours||0,n.days||0];return t=m[a],e=m[v]+G(t,u),o=m[h]+G(e,d),i=m[l]+G(o,c),r=m[p]+G(i,f),m[a]=t%u,m[v]=e%d,m[h]=o%c,m[l]=i%f,m[p]=r,m}function G(n,t){var e=n/t;return e<0?Math.ceil(e):Math.floor(e)}function H(n){if(n){var t=K(dn=F(n));return vn=an+t.secondTenths*E[m]*on,dn}}function J(n){cn=F(n),Y.secondTenths=cn[a],Y.seconds=cn[v],Y.minutes=cn[h],Y.hours=cn[l],Y.days=cn[p],Z=K(cn,Z)}function K(n,t){var e=t||{};return e.days=n[p],e.hours=e.days*f+n[l],e.minutes=e.hours*c+n[h],e.seconds=e.minutes*d+n[v],e.secondTenths=e.seconds*u+n[[a]],e}function N(){A(),Q("stopped",hn)}function Q(n,t){e()?_.dispatchEvent(new CustomEvent(n,t)):o()&&_.emit(n,t)}function W(){return nn}function X(){return tn}var Y=new t,Z=new t,$=void 0,_=e()?document.createElement("span"):o()?new S.EventEmitter:void 0,nn=!1,tn=!1,en=void 0,on=void 0,rn=void 0,sn={},un=void 0,dn=void 0,cn=void 0,fn=void 0,an=void 0,vn=void 0,hn={detail:{timer:this}};void 0!==this&&(this.start=function(n){W()||(k(n),Q("started",hn))},this.pause=function(){D(),tn=!0,Q("paused",hn)},this.stop=N,this.reset=function(){A(),k(un),Q("reset",hn)},this.isRunning=W,this.isPaused=X,this.getTimeValues=function(){return Y},this.getTotalTimeValues=function(){return Z},this.getConfig=function(){return sn},this.addEventListener=function(n,t){e()?_.addEventListener(n,t):o()&&_.on(n,t)},this.removeEventListener=function(n,t){e()?_.removeEventListener(n,t):o()&&_.removeListener(n,t)})}});
